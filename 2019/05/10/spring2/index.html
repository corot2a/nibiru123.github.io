<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>Spring学习笔记（2） | xi&#39;s Blog | 啥都不懂，啥都不会~</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="学习笔记,Java框架,SSH">
    <meta name="description" content="前言这几天主要学习了使用注解的方式来对spring中的bean进行管理，注入属性，以及aop的操作 Spring的bean管理（注解）什么是注解？ 注解是代码里面的特殊的标记，使用注解可以完成一些功能 写法：@注解名称（属性名称=属性值） 注解使用在类的上面，方法上面，属性上面 Spring注解开发准备引入新的约束123456&amp;lt;?xml version=&amp;quot;1.0&amp;quot; enc">
<meta name="keywords" content="学习笔记,Java框架,SSH">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring学习笔记（2）">
<meta property="og:url" content="https://nibiru123.github.io/2019/05/10/spring2/index.html">
<meta property="og:site_name" content="xi&#39;s Blog">
<meta property="og:description" content="前言这几天主要学习了使用注解的方式来对spring中的bean进行管理，注入属性，以及aop的操作 Spring的bean管理（注解）什么是注解？ 注解是代码里面的特殊的标记，使用注解可以完成一些功能 写法：@注解名称（属性名称=属性值） 注解使用在类的上面，方法上面，属性上面 Spring注解开发准备引入新的约束123456&amp;lt;?xml version=&amp;quot;1.0&amp;quot; enc">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://nibiru123.github.io/2019/05/10/spring2/1.png">
<meta property="og:image" content="https://nibiru123.github.io/2019/05/10/spring2/2.png">
<meta property="og:image" content="https://nibiru123.github.io/2019/05/10/spring2/3.png">
<meta property="og:image" content="https://nibiru123.github.io/2019/05/10/spring2/4.png">
<meta property="og:image" content="https://nibiru123.github.io/2019/05/10/spring2/5.png">
<meta property="og:image" content="https://nibiru123.github.io/2019/05/10/spring2/6.png">
<meta property="og:image" content="https://nibiru123.github.io/2019/05/10/spring2/7.png">
<meta property="og:image" content="https://nibiru123.github.io/2019/05/10/spring2/8.png">
<meta property="og:updated_time" content="2019-05-10T08:56:38.112Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Spring学习笔记（2）">
<meta name="twitter:description" content="前言这几天主要学习了使用注解的方式来对spring中的bean进行管理，注入属性，以及aop的操作 Spring的bean管理（注解）什么是注解？ 注解是代码里面的特殊的标记，使用注解可以完成一些功能 写法：@注解名称（属性名称=属性值） 注解使用在类的上面，方法上面，属性上面 Spring注解开发准备引入新的约束123456&amp;lt;?xml version=&amp;quot;1.0&amp;quot; enc">
<meta name="twitter:image" content="https://nibiru123.github.io/2019/05/10/spring2/1.png">
    
        <link rel="alternate" type="application/atom+xml" title="xi&#39;s Blog" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide">
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">nibiru</h5>
          <a href="mailto:274708301@qq.com" title="274708301@qq.com" class="mail">274708301@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/">
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives">
                <i class="icon icon-lg icon-archives"></i>
                文章列表
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories">
                <i class="icon icon-lg icon-link"></i>
                分类
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags">
                <i class="icon icon-lg icon-tags"></i>
                标签
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/" target="_blank">
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://weibo.com/u/6709820021" target="_blank">
                <i class="icon icon-lg icon-weibo"></i>
                微博
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Spring学习笔记（2）</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Spring学习笔记（2）</h1>
        <h5 class="subtitle">
            
                <time datetime="2019-05-10T12:30:20.000Z" itemprop="datePublished" class="page-time">
  2019-05-10
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Spring/">Spring</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#前言"><span class="post-toc-number">1.</span> <span class="post-toc-text">前言</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Spring的bean管理（注解）"><span class="post-toc-number">2.</span> <span class="post-toc-text">Spring的bean管理（注解）</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#什么是注解？"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">什么是注解？</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Spring注解开发准备"><span class="post-toc-number">3.</span> <span class="post-toc-text">Spring注解开发准备</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#引入新的约束"><span class="post-toc-number">3.0.1.</span> <span class="post-toc-text">引入新的约束</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#开启注解扫描"><span class="post-toc-number">3.0.2.</span> <span class="post-toc-text">开启注解扫描</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#使用注解创建对象"><span class="post-toc-number">3.0.3.</span> <span class="post-toc-text">使用注解创建对象</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#创建对象的四个注解"><span class="post-toc-number">3.0.4.</span> <span class="post-toc-text">创建对象的四个注解</span></a></li></ol></li></ol><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#使用注解注入属性（可以不使用set方法）"><span class="post-toc-number">4.</span> <span class="post-toc-text">使用注解注入属性（可以不使用set方法）</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#注入属性第一个注解-Autowired"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">注入属性第一个注解 @Autowired</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#注入属性第二个注解-Resource"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">注入属性第二个注解 @Resource</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#配置文件和注解混合使用"><span class="post-toc-number">5.</span> <span class="post-toc-text">配置文件和注解混合使用</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#AOP"><span class="post-toc-number">6.</span> <span class="post-toc-text">AOP</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#AOP操作术语"><span class="post-toc-number">6.1.</span> <span class="post-toc-text">AOP操作术语</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#切入点"><span class="post-toc-number">6.1.1.</span> <span class="post-toc-text">切入点</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#通知-增强"><span class="post-toc-number">6.1.2.</span> <span class="post-toc-text">通知/增强</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#切面"><span class="post-toc-number">6.1.3.</span> <span class="post-toc-text">切面</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Spring的AOP操作"><span class="post-toc-number">6.2.</span> <span class="post-toc-text">Spring的AOP操作</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#在配置文件中导入aop约束"><span class="post-toc-number">6.3.</span> <span class="post-toc-text">在配置文件中导入aop约束</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#切入点表达式"><span class="post-toc-number">6.4.</span> <span class="post-toc-text">切入点表达式</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#基于Aspectj的xml配置"><span class="post-toc-number">6.5.</span> <span class="post-toc-text">基于Aspectj的xml配置</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#配置文件"><span class="post-toc-number">6.5.1.</span> <span class="post-toc-text">配置文件</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#测试代码"><span class="post-toc-number">6.5.2.</span> <span class="post-toc-text">测试代码</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#理解"><span class="post-toc-number">6.5.3.</span> <span class="post-toc-text">理解</span></a></li></ol></li></ol></li>
        </nav>
    </aside>


<article id="post-spring2" class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Spring学习笔记（2）</h1>
        <div class="post-meta">
            <time class="post-time" title="2019-05-10 20:30:20" datetime="2019-05-10T12:30:20.000Z" itemprop="datePublished">2019-05-10</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Spring/">Spring</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style="display:none">
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>这几天主要学习了使用注解的方式来对spring中的bean进行管理，注入属性，以及aop的操作</p>
<h1 id="Spring的bean管理（注解）"><a href="#Spring的bean管理（注解）" class="headerlink" title="Spring的bean管理（注解）"></a>Spring的bean管理（注解）</h1><h2 id="什么是注解？"><a href="#什么是注解？" class="headerlink" title="什么是注解？"></a>什么是注解？</h2><ul>
<li>注解是代码里面的特殊的标记，使用注解可以完成一些功能</li>
<li>写法：@注解名称（属性名称=属性值）</li>
<li><p>注解使用在类的上面，方法上面，属性上面</p>
<h1 id="Spring注解开发准备"><a href="#Spring注解开发准备" class="headerlink" title="Spring注解开发准备"></a>Spring注解开发准备</h1><h3 id="引入新的约束"><a href="#引入新的约束" class="headerlink" title="引入新的约束"></a>引入新的约束</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">       xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xsi:schemaLocation=&quot;</span><br><span class="line">        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span><br><span class="line">        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;</span><br></pre></td></tr></table></figure>
<h3 id="开启注解扫描"><a href="#开启注解扫描" class="headerlink" title="开启注解扫描"></a>开启注解扫描</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--开启注解扫描--&gt;</span><br><span class="line">  &lt;!--到包里面扫描类、方法、属性上面是否有注解--&gt;</span><br><span class="line">  &lt;context:component-scan base-package=&quot;cn.lcx&quot;&gt;&lt;/context:component-scan&gt;</span><br></pre></td></tr></table></figure>
<h3 id="使用注解创建对象"><a href="#使用注解创建对象" class="headerlink" title="使用注解创建对象"></a>使用注解创建对象</h3><p><img src="/2019/05/10/spring2/1.png" alt></p>
<h3 id="创建对象的四个注解"><a href="#创建对象的四个注解" class="headerlink" title="创建对象的四个注解"></a>创建对象的四个注解</h3></li>
<li>@Component</li>
<li>@Controller （WEB层）</li>
<li>@Service    （业务层）</li>
<li>@Repository  （持久层）<br>目前来讲这四个注解功能是一样的，都是用来创建对象的</li>
<li>Scope 是用来表示创建单实例对象还是多实例对象<br>singleton:单例，prototype:多例<h1 id="使用注解注入属性（可以不使用set方法）"><a href="#使用注解注入属性（可以不使用set方法）" class="headerlink" title="使用注解注入属性（可以不使用set方法）"></a>使用注解注入属性（可以不使用set方法）</h1>创建service类，创建dao类，在service得到dao对象<h2 id="注入属性第一个注解-Autowired"><a href="#注入属性第一个注解-Autowired" class="headerlink" title="注入属性第一个注解 @Autowired"></a>注入属性第一个注解 @Autowired</h2></li>
<li>首先我们使用注解先来创建service对象和dao对象<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/2019/05/10/spring2/2.png" alt title>
                </div>
                <div class="image-caption"></div>
            </figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/2019/05/10/spring2/3.png" alt title>
                </div>
                <div class="image-caption"></div>
            </figure></li>
<li>在service类里面定义dao类型的属性<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/2019/05/10/spring2/4.png" alt title>
                </div>
                <div class="image-caption"></div>
            </figure>
在这里，我们省略了创建set方法<h2 id="注入属性第二个注解-Resource"><a href="#注入属性第二个注解-Resource" class="headerlink" title="注入属性第二个注解 @Resource"></a>注入属性第二个注解 @Resource</h2><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/2019/05/10/spring2/5.png" alt title>
                </div>
                <div class="image-caption"></div>
            </figure></li>
<li>注意：name里的值写 注解创建dao对象时候的value值<h1 id="配置文件和注解混合使用"><a href="#配置文件和注解混合使用" class="headerlink" title="配置文件和注解混合使用"></a>配置文件和注解混合使用</h1></li>
<li>在这里我们创建对象的操作使用配置文件来实现<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/2019/05/10/spring2/6.png" alt title>
                </div>
                <div class="image-caption"></div>
            </figure></li>
<li>注入属性的操作我们使用注解的方式来完成<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/2019/05/10/spring2/7.png" alt title>
                </div>
                <div class="image-caption"></div>
            </figure>
<h1 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h1></li>
<li>面向切面编程，简单来说，扩展程序功能的时候不用修改源代码<h2 id="AOP操作术语"><a href="#AOP操作术语" class="headerlink" title="AOP操作术语"></a>AOP操作术语</h2></li>
<li>Joinpoint(连接点): 类里面可以被增强的方法，这些方法称为连接点</li>
<li>Pointcut(切入点):所谓切入点是指我们要对哪些Joinpoint进行拦截的定义.</li>
<li>Advice(通知/增强):所谓通知是指拦截到Joinpoint之后所要做的事情就是通知.通知分为前置通知,后置通知,异常通知,最终通知,环绕通知(切面要完成的功能)</li>
<li>Aspect(切面): 是切入点和通知（引介）的结合</li>
<li>Introduction(引介):引介是一种特殊的通知在不修改类代码的前提下, Introduction可以在运行期为类动态地添加一些方法或Field.<br>Target(目标对象):代理的目标对象(要增强的类)<br>Weaving(织入):是把增强应用到目标的过程.<br>  把advice 应用到 target的过程<br>Proxy（代理）:一个类被AOP织入增强后，就产生一个结果代理类<h3 id="切入点"><a href="#切入点" class="headerlink" title="切入点"></a>切入点</h3>在类里面可以有很多的方法被增强，在实际操作中，只是增强了类里面的add和update方法，实际增强的方法称为切入点<h3 id="通知-增强"><a href="#通知-增强" class="headerlink" title="通知/增强"></a>通知/增强</h3></li>
<li>前置通知：在方法之前执行</li>
<li>后置通知：在方法之后执行</li>
<li>异常通知：方法出现异常</li>
<li>最终通知：在后置之后执行</li>
<li>环绕通知：在方法之前和之后执行<h3 id="切面"><a href="#切面" class="headerlink" title="切面"></a>切面</h3>把增强应用到具体的方法上面的过程称为切面<h2 id="Spring的AOP操作"><a href="#Spring的AOP操作" class="headerlink" title="Spring的AOP操作"></a>Spring的AOP操作</h2></li>
<li>在spring里面进行aop操作，使用aspectj实现<br>（1）aspectj不是spring一部分，和spring一起使用进行aop操作<br>（2）Spring2.0以后新增了对AspectJ支持</li>
<li>使用aspectj实现aop有两种方式<br>（1）基于aspectj的xml配置<br>（2）基于aspectj的注解方式<h2 id="在配置文件中导入aop约束"><a href="#在配置文件中导入aop约束" class="headerlink" title="在配置文件中导入aop约束"></a>在配置文件中导入aop约束</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xsi:schemaLocation=&quot;</span><br><span class="line">        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span><br><span class="line">        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="切入点表达式"><a href="#切入点表达式" class="headerlink" title="切入点表达式"></a>切入点表达式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1 切入点：实际增强的方法</span><br><span class="line"></span><br><span class="line">2 常用的表达式</span><br><span class="line">execution(&lt;访问修饰符&gt;?&lt;返回类型&gt;&lt;方法名&gt;(&lt;参数&gt;)&lt;异常&gt;)</span><br><span class="line">（1）execution(* cn.lcx.aop.Book.add(..))</span><br><span class="line">（2）execution(* cn.lcx.aop.Book.*(..))</span><br><span class="line">（3）execution(* *.*(..))</span><br><span class="line">（4） 匹配所有save开头的方法 execution(* save*(..))</span><br></pre></td></tr></table></figure>
<h2 id="基于Aspectj的xml配置"><a href="#基于Aspectj的xml配置" class="headerlink" title="基于Aspectj的xml配置"></a>基于Aspectj的xml配置</h2><h3 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--1.配置对象--&gt;</span><br><span class="line">    &lt;bean id=&quot;book&quot; class=&quot;cn.lcx.aop.Book&quot;&gt;&lt;/bean&gt;</span><br><span class="line">    &lt;bean id=&quot;myBook&quot; class=&quot;cn.lcx.aop.MyBook&quot;&gt;&lt;/bean&gt;</span><br><span class="line">    &lt;!--2.配置aop操作--&gt;</span><br><span class="line">    &lt;aop:config&gt;</span><br><span class="line">        &lt;!--配置切入点--&gt;</span><br><span class="line">        &lt;aop:pointcut id=&quot;pointcut1&quot; expression=&quot;execution(* cn.lcx.aop.Book.add())&quot;/&gt;</span><br><span class="line">        &lt;!--配置切面--&gt;</span><br><span class="line">        &lt;!--把增强用到方法上面--&gt;</span><br><span class="line">        &lt;aop:aspect ref=&quot;myBook&quot;&gt;</span><br><span class="line">            &lt;!--配置增强类型--&gt;</span><br><span class="line">            &lt;!--method：增强类里面使用哪个方法进行增强--&gt;</span><br><span class="line">            前置增强</span><br><span class="line">            &lt;aop:before method=&quot;before1&quot; pointcut-ref=&quot;pointcut1&quot;&gt;&lt;/aop:before&gt;</span><br><span class="line">            后置增强</span><br><span class="line">            &lt;aop:after-returning method=&quot;after1&quot; pointcut-ref=&quot;pointcut1&quot;&gt;&lt;/aop:after-returning&gt;</span><br><span class="line">            环绕通知</span><br><span class="line">            &lt;aop:around method=&quot;around1&quot; pointcut-ref=&quot;pointcut1&quot;&gt;&lt;/aop:around&gt;</span><br><span class="line">        &lt;/aop:aspect&gt;</span><br><span class="line">    &lt;/aop:config&gt;</span><br></pre></td></tr></table></figure>
<h3 id="测试代码"><a href="#测试代码" class="headerlink" title="测试代码"></a>测试代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">public class MyBook &#123;</span><br><span class="line"></span><br><span class="line">    public void  before1()</span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(&quot;前置增强....&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void after1()</span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(&quot;后置增强.....&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    //环绕通知</span><br><span class="line"> public void around1(ProceedingJoinPoint proceedingJoinPoint) throws Throwable</span><br><span class="line"> &#123;</span><br><span class="line">     System.out.println(&quot;方法之前。。。。。&quot;);</span><br><span class="line">     //执行被增强的方法</span><br><span class="line">     proceedingJoinPoint.proceed();</span><br><span class="line">     System.out.println(&quot;方法之后。。。。&quot;);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>控制台输出<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/2019/05/10/spring2/8.png" alt title>
                </div>
                <div class="image-caption"></div>
            </figure>
<br><h3 id="理解"><a href="#理解" class="headerlink" title="理解"></a>理解</h3><ul>
<li>首先我们在配置文件中先配置对象，把对象创建出来，然后来配置aop操作 </li>
<li>在aop：config标签中，我们首先使用aop：pointcut来配置切入点，所谓切入点就是之前我们说的所要增强的类中的方法，这里使用切入点表达式来表明是增强Book类中的add方法，id为切入点的名称。</li>
<li>然后我们来配置切面，给add方法进行增强，在aop：aspect中，ref属性值为所要增强给其他类的类的id值，这里我们使用myBook类中的方法给Book类中的方法增强</li>
<li>配置增强类型，method中填写增强类里面使用哪个方法进行增强</li>
</ul>
</li>
</ul>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2019-05-10T08:56:38.112Z" itemprop="dateUpdated">2019-05-10 16:56:38</time>
</span><br>


        
        <br>原始链接：<a href="/2019/05/10/spring2/" target="_blank" rel="external">https://nibiru123.github.io/2019/05/10/spring2/</a>
        
    </div>
    
    <footer>
        <a href="https://nibiru123.github.io">
            <img src="/img/avatar.jpg" alt="nibiru">
            nibiru
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java框架/">Java框架</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SSH/">SSH</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/学习笔记/">学习笔记</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://nibiru123.github.io/2019/05/10/spring2/&title=《Spring学习笔记（2）》 — xi's Blog&pic=https://nibiru123.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://nibiru123.github.io/2019/05/10/spring2/&title=《Spring学习笔记（2）》 — xi's Blog&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://nibiru123.github.io/2019/05/10/spring2/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Spring学习笔记（2）》 — xi's Blog&url=https://nibiru123.github.io/2019/05/10/spring2/&via=https://nibiru123.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://nibiru123.github.io/2019/05/10/spring2/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2019/05/11/spring3/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">Spring学习笔记（3）</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2019/05/05/spring01/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Spring学习笔记（1）</h4>
      </a>
    </div>
  
</nav>



    











    <!-- Valine Comments -->
    <div class="comments vcomment" id="comments"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
    <!-- Valine Comments script -->
    <script>
        var GUEST_INFO = ['nick','mail','link'];
        var guest_info = 'nick,mail,link'.split(',').filter(function(item){
          return GUEST_INFO.indexOf(item) > -1
        });
        new Valine({
            el: '#comments',
            notify: 'false' == 'true',
            verify: 'false' == 'true',
            appId: "kVqOakD1xrxY7x1LK74NuNGW-gzGzoHsz",
            appKey: "WT0PB9mbrqIWprJcHGzgaz07",
            avatar: "mm",
            placeholder: "说点什么吧！（别忘了你的昵称哦~）",
            guest_info: guest_info.length == 0 ? GUEST_INFO : guest_info,
            pageSize: "10"
        })
    </script>
    <!-- Valine Comments end -->










</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check" data-wechat="/img/wechat.jpg" data-alipay="/img/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style="display:none">
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style="display:none">
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>nibiru &copy; 2015 - 2019</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://nibiru123.github.io/2019/05/10/spring2/&title=《Spring学习笔记（2）》 — xi's Blog&pic=https://nibiru123.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://nibiru123.github.io/2019/05/10/spring2/&title=《Spring学习笔记（2）》 — xi's Blog&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://nibiru123.github.io/2019/05/10/spring2/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Spring学习笔记（2）》 — xi's Blog&url=https://nibiru123.github.io/2019/05/10/spring2/&via=https://nibiru123.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://nibiru123.github.io/2019/05/10/spring2/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=https://nibiru123.github.io/2019/05/10/spring2/" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '死鬼去哪里了！';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
